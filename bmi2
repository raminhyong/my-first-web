<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BMI Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 1rem;
        }

        .bmi-card {
            background-color: white;
            padding: 2.5rem;
            border-radius: 1.5rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            width: 100%;
            max-width: 28rem;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">

<div class="bmi-card">
    <h1 class="text-3xl font-bold text-gray-800 text-center mb-4">BMI Calculator</h1>
    <p class="text-gray-600 text-center mb-6">Enter your weight and height below to calculate your BMI.</p>

    <div class="flex flex-col gap-5">
        <!-- Unit Selection -->
        <div class="flex items-center justify-center space-x-4 mb-4">
            <label class="inline-flex items-center">
                <input type="radio" class="form-radio text-indigo-600" name="units" value="metric" checked onchange="toggleUnits()">
                <span class="ml-2 text-gray-700 font-medium">Metric (kg, cm)</span>
            </label>
            <label class="inline-flex items-center">
                <input type="radio" class="form-radio text-indigo-600" name="units" value="imperial" onchange="toggleUnits()">
                <span class="ml-2 text-gray-700 font-medium">Imperial (lbs, in)</span>
            </label>
        </div>

        <!-- Metric Inputs -->
        <div id="metric-inputs">
            <label class="block mb-4">
                <span class="text-gray-700 font-semibold">Weight (kg)</span>
                <input id="metric-weight" type="number" step="0.1" class="mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 transition-colors duration-200 p-2 border-2">
            </label>
            <label class="block mb-4">
                <span class="text-gray-700 font-semibold">Height (cm)</span>
                <input id="metric-height" type="number" step="0.1" class="mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 transition-colors duration-200 p-2 border-2">
            </label>
        </div>

        <!-- Imperial Inputs (initially hidden) -->
        <div id="imperial-inputs" class="hidden">
            <label class="block mb-4">
                <span class="text-gray-700 font-semibold">Weight (lbs)</span>
                <input id="imperial-weight" type="number" step="0.1" class="mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 transition-colors duration-200 p-2 border-2">
            </label>
            <label class="block mb-4">
                <span class="text-gray-700 font-semibold">Height (inches)</span>
                <input id="imperial-height" type="number" step="0.1" class="mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 transition-colors duration-200 p-2 border-2">
            </label>
        </div>

        <div id="error-message" class="text-sm text-red-500 text-center font-medium mt-2 hidden"></div>

        <div class="flex justify-between items-center space-x-4 mt-4">
            <button onclick="calculateBmi()" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg transition-colors duration-300 transform hover:scale-105 shadow-lg">Calculate</button>
            <button onclick="clearInputs()" class="w-full bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-3 px-6 rounded-lg transition-colors duration-300 transform hover:scale-105 shadow-md">Clear</button>
        </div>
    </div>

    <!-- Result Display -->
    <div id="result-display" class="mt-8 p-6 bg-indigo-50 rounded-lg hidden transition-all duration-300">
        <div class="flex flex-col items-center">
            <p class="text-gray-600 font-medium mb-1">Your BMI is:</p>
            <p id="bmi-value" class="text-5xl font-extrabold text-indigo-700 animate-pulse"></p>
            <p id="bmi-category" class="text-xl font-bold mt-2"></p>
        </div>
    </div>

</div>

<script>
    // Toggles between metric and imperial input fields
    function toggleUnits() {
        const metricInputs = document.getElementById('metric-inputs');
        const imperialInputs = document.getElementById('imperial-inputs');
        const units = document.querySelector('input[name="units"]:checked').value;

        if (units === 'metric') {
            metricInputs.classList.remove('hidden');
            imperialInputs.classList.add('hidden');
        } else {
            metricInputs.classList.add('hidden');
            imperialInputs.classList.remove('hidden');
        }
    }

    // Calculates the BMI based on the selected units
    function calculateBmi() {
        const units = document.querySelector('input[name="units"]:checked').value;
        const errorDiv = document.getElementById('error-message');
        errorDiv.classList.add('hidden');

        let weight, height;
        let bmi;

        if (units === 'metric') {
            weight = parseFloat(document.getElementById('metric-weight').value);
            height = parseFloat(document.getElementById('metric-height').value);

            if (isNaN(weight) || isNaN(height) || weight <= 0 || height <= 0) {
                errorDiv.textContent = 'Please enter valid positive numbers for weight and height.';
                errorDiv.classList.remove('hidden');
                document.getElementById('result-display').classList.add('hidden');
                return;
            }

            // BMI formula for metric: weight (kg) / [height (m)]^2
            const heightInMeters = height / 100;
            bmi = weight / (heightInMeters * heightInMeters);

        } else { // imperial
            weight = parseFloat(document.getElementById('imperial-weight').value);
            height = parseFloat(document.getElementById('imperial-height').value);

            if (isNaN(weight) || isNaN(height) || weight <= 0 || height <= 0) {
                errorDiv.textContent = 'Please enter valid positive numbers for weight and height.';
                errorDiv.classList.remove('hidden');
                document.getElementById('result-display').classList.add('hidden');
                return;
            }

            // BMI formula for imperial: [weight (lbs) / height (in)^2] * 703
            bmi = (weight / (height * height)) * 703;
        }

        displayResult(bmi);
    }

    // Displays the calculated BMI and category
    function displayResult(bmi) {
        const bmiValue = document.getElementById('bmi-value');
        const bmiCategory = document.getElementById('bmi-category');
        const resultDisplay = document.getElementById('result-display');
        
        bmiValue.textContent = bmi.toFixed(1);

        let category = '';
        let colorClass = '';

        if (bmi < 18.5) {
            category = 'Underweight';
            colorClass = 'text-blue-600';
        } else if (bmi >= 18.5 && bmi < 24.9) {
            category = 'Normal weight';
            colorClass = 'text-green-600';
        } else if (bmi >= 25 && bmi < 29.9) {
            category = 'Overweight';
            colorClass = 'text-yellow-600';
        } else {
            category = 'Obese';
            colorClass = 'text-red-600';
        }

        bmiCategory.textContent = category;
        bmiCategory.className = `text-xl font-bold mt-2 ${colorClass}`;

        resultDisplay.classList.remove('hidden');
    }

    // Clears all input fields and the result display
    function clearInputs() {
        document.getElementById('metric-weight').value = '';
        document.getElementById('metric-height').value = '';
        document.getElementById('imperial-weight').value = '';
        document.getElementById('imperial-height').value = '';
        document.getElementById('result-display').classList.add('hidden');
        document.getElementById('error-message').classList.add('hidden');
    }

</script>

</body>
</html>
